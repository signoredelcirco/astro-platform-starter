---
---
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin - Gestione Articoli | Signore del Circo</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f5f5f5; padding: 20px; }
    .container { max-width: 1200px; margin: 0 auto; }
    .navbar { background: white; padding: 1rem 2rem; border-radius: 8px; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; }
    .navbar h1 { color: #333; font-size: 24px; }
    .logout-btn { background: #f44336; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; }
    .logout-btn:hover { background: #d32f2f; }
    .tabs { display: flex; gap: 1rem; margin-bottom: 2rem; border-bottom: 2px solid #eee; }
    .tab-button { padding: 1rem; background: none; border: none; border-bottom: 3px solid transparent; cursor: pointer; font-size: 16px; color: #999; transition: all 0.3s; }
    .tab-button.active { color: #667eea; border-bottom-color: #667eea; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .login-section, .dashboard, .article-form { background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .login-section { max-width: 400px; margin: 50px auto; text-align: center; }
    .login-section h2 { margin-bottom: 2rem; color: #333; }
    .form-group { margin-bottom: 1.5rem; text-align: left; }
    .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333; }
    .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 4px; font-family: inherit; font-size: 14px; }
    .form-group input:focus, .form-group textarea:focus, .form-group select:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
    .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 4px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s; }
    .btn-primary { background: #667eea; color: white; }
    .btn-primary:hover { background: #5568d3; }
    .btn-secondary { background: #f0f0f0; color: #333; margin-right: 1rem; }
    .btn-secondary:hover { background: #e0e0e0; }
    .articles-list { margin-top: 2rem; }
    .article-item { background: #f9f9f9; padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem; border-left: 4px solid #667eea; }
    .article-item h3 { color: #333; margin-bottom: 0.5rem; }
    .article-item p { color: #666; font-size: 14px; margin-bottom: 1rem; }
    .article-item .actions { display: flex; gap: 0.5rem; }
    .article-item .actions button { padding: 0.5rem 1rem; font-size: 12px; }
    .error-message { background: #ffebee; color: #c62828; padding: 1rem; border-radius: 4px; margin-bottom: 1rem; }
    .success-message { background: #e8f5e9; color: #2e7d32; padding: 1rem; border-radius: 4px; margin-bottom: 1rem; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Login Section -->
    <div class="login-section" id="loginSection">
      <h2>üîê Pannello Admin</h2>
      <div id="loginError" class="error-message hidden"></div>
      <form id="loginForm">
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="email" required />
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="password" required />
        </div>
        <button type="submit" class="btn btn-primary">Accedi</button>
      </form>
    </div>

    <!-- Dashboard Section -->
    <div id="dashboard" class="hidden">
      <div class="navbar">
        <h1>üìù Admin Dashboard</h1>
        <button class="logout-btn" onclick="handleLogout()">Esci</button>
      </div>

      <div class="tabs">
        <button class="tab-button active" onclick="switchTab('articles')">Articoli</button>
        <button class="tab-button" onclick="switchTab('account')">Account</button>
      </div>

      <!-- Articles Tab -->
      <div id="articles-tab" class="tab-content active">
        <div class="article-form">
          <h2>Nuovo Articolo</h2>
          <div id="formMessage"></div>
          <form id="articleForm">
            <div class="form-group">
              <label>Sezione</label>
              <select id="section" required>
                <option value="opinione-non-richiesta">Opinione Non Richiesta</option>
                <option value="a-normal">A-Normal</option>
                <option value="chiacchiere">Chiacchiere</option>
              </select>
            </div>
            <div class="form-group">
              <label>Titolo</label>
              <input type="text" id="title" required />
            </div>
            <div class="form-group">
              <label>Descrizione</label>
              <textarea id="description" rows="4" required></textarea>
            </div>
            <div class="form-group">
              <label>Durata (es: 45 minuti)</label>
              <input type="text" id="duration" />
            </div>
            <div class="form-group">
              <label>Link Spreaker</label>
              <input type="url" id="spreaker" />
            </div>
            <div class="form-group">
              <label>Link Spotify</label>
              <input type="url" id="spotify" />
            </div>
            <div class="form-group">
              <label>Link Apple Podcasts</label>
              <input type="url" id="applePodcasts" />
            </div>
            <button type="submit" class="btn btn-primary">Pubblica Articolo</button>
            <button type="reset" class="btn btn-secondary">Cancella</button>
          </form>
        </div>

        <div class="articles-list">
          <h2>Articoli Recenti</h2>
          <div id="articlesList">
            <p>Nessun articolo trovato. Crea il tuo primo articolo!</p>
          </div>
        </div>
      </div>

      <!-- Account Tab -->
      <div id="account-tab" class="tab-content">
        <div class="article-form">
          <h2>Informazioni Account</h2>
          <p><strong>Email:</strong> <span id="userEmail">-</span></p>
          <p><strong>Ultimo accesso:</strong> <span id="lastLogin">-</span></p>
        </div>
      </div>
    </div>
  </div>

  <script>
    const ADMIN_EMAIL = 'admin@example.com';
    const ADMIN_PASSWORD = 'admin123';
    const GITHUB_TOKEN = 'your-github-token-here';
    const GITHUB_REPO = 'signoredelcirco/astro-platform-starter';

    window.addEventListener('DOMContentLoaded', function() {
      const session = localStorage.getItem('adminSession');
      if (session) {
        const data = JSON.parse(session);
        const age = Date.now() - data.loginTime;
        if (age < 24 * 60 * 60 * 1000) {
          showDashboard(data.email);
        } else {
          localStorage.removeItem('adminSession');
        }
      }
    });

    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const errorEl = document.getElementById('loginError');

      if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
        const session = { email, loginTime: Date.now() };
        localStorage.setItem('adminSession', JSON.stringify(session));
        showDashboard(email);
      } else {
        errorEl.textContent = '‚ùå Credenziali non valide';
        errorEl.classList.remove('hidden');
        setTimeout(() => errorEl.classList.add('hidden'), 3000);
      }
    });

    document.getElementById('articleForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formMsg = document.getElementById('formMessage');
      formMsg.innerHTML = '<p class="success-message">‚úÖ Articolo salvato! Prossimamente su GitHub...</p>';
      setTimeout(() => {
        document.getElementById('articleForm').reset();
        formMsg.innerHTML = '';
      }, 2000);
    });

    function showDashboard(email) {
      document.getElementById('loginSection').classList.add('hidden');
      document.getElementById('dashboard').classList.remove('hidden');
      document.getElementById('userEmail').textContent = email;
      const session = JSON.parse(localStorage.getItem('adminSession'));
      const loginDate = new Date(session.loginTime).toLocaleString('it-IT');
      document.getElementById('lastLogin').textContent = loginDate;
    }

    function handleLogout() {
      localStorage.removeItem('adminSession');
      document.getElementById('dashboard').classList.add('hidden');
      document.getElementById('loginSection').classList.remove('hidden');
      document.getElementById('loginForm').reset();
    }

    function switchTab(tabName) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.tab-button').forEach(el => el.classList.remove('active'));
      document.getElementById(tabName + '-tab').classList.add('active');
      event.target.classList.add('active');
    }
  </script>
</body>
</html>
