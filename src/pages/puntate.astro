---
import Layout from '../layouts/Layout.astro';
import podcastData from '../content/podcast.json';

const { episodes } = podcastData;
---

<style>
  .episodes-container { max-width: 1000px; margin: 0 auto; padding: 40px 20px; }
  .episodes-header { text-align: center; margin-bottom: 60px; }
  .episodes-header h1 { font-size: 2.5rem; color: #333; margin-bottom: 10px; }
  .episodes-grid { display: grid; gap: 20px; margin-bottom: 40px; }
  .episode-card { background: #f8f9fa; border-radius: 12px; padding: 25px; border-left: 5px solid #667eea; transition: transform 0.3s, box-shadow 0.3s; }
  .episode-card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(0,0,0,0.15); }
  .episode-number { color: #667eea; font-weight: 700; font-size: 0.9rem; }
  .episode-title { font-size: 1.3rem; color: #333; margin: 10px 0; font-weight: 600; }
  .episode-meta { color: #666; font-size: 0.9rem; margin: 10px 0; }
  .episode-description { color: #555; line-height: 1.6; margin: 15px 0; }
  .episode-tags { display: flex; gap: 8px; flex-wrap: wrap; margin: 15px 0; }
  .tag { display: inline-block; background: #e8eef7; color: #667eea; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
  .spreaker-btn { display: inline-block; background: #667eea; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: 600; transition: background 0.3s; }
  .spreaker-btn:hover { background: #764ba2; }
  .back-link { display: inline-block; margin-top: 30px; padding: 10px 20px; color: #667eea; text-decoration: none; font-weight: 600; border: 2px solid #667eea; border-radius: 6px; }
  .back-link:hover { background: #667eea; color: white; }
</style>

<Layout title="Puntate">
  <div class="episodes-container">
    <div class="episodes-header">
      <h1>Tutte le Puntate</h1>
      <p>Ascolta tutti gli episodi del podcast Signore del Circo</p>
    </div>
    
    <div class="episodes-grid">
      {episodes.map((episode) => (
        <div class="episode-card">
          <div class="episode-number">EPISODIO #{episode.number}</div>
          <h2 class="episode-title">{episode.title}</h2>
          <div class="episode-meta">
            <strong>{new Date(episode.date).toLocaleDateString('it-IT')}</strong> • {episode.duration}
          </div>
          <p class="episode-description">{episode.description}</p>
          <div class="episode-tags">
            {episode.tags.map((tag) => (
              <span class="tag">{tag}</span>
            ))}
          </div>
          <a href={episode.spreaker} target="_blank" rel="noopener noreferrer" class="spreaker-btn">
            ▶ Ascolta su Spreaker
          </a>
        </div>
      ))}
    </div>
    
    <a href="/astro-platform-starter/" class="back-link">&larr; Torna alla Home</a>
  </div>
</Layout>
